import{s as Te,n as $}from"../chunks/scheduler.Cs0xm5t1.js";import{S as Ie,i as Le,e as p,s as j,c as b,k as ve,f as w,a as g,d as c,l as D,g as C,h,t as I,b as L,j as H}from"../chunks/index.BdoLxVUq.js";import{e as G,u as x,d as ee}from"../chunks/each.DVlxzSFe.js";function me(u,e,t){const l=u.slice();return l[1]=e[t],l}function pe(u,e,t){const l=u.slice();return l[4]=e[t],l}function be(u,e,t){const l=u.slice();return l[7]=e[t],l}function ke(u){let e,t=u[7].roleshort+"",l,r;return{c(){e=I("("),l=I(t),r=I(")")},l(s){e=L(s,"("),l=L(s,t),r=L(s,")")},m(s,f){C(s,e,f),C(s,l,f),C(s,r,f)},p(s,f){f&1&&t!==(t=s[7].roleshort+"")&&H(l,t)},d(s){s&&(c(e),c(l),c(r))}}}function ge(u,e){let t,l,r=e[7].LastName+"",s,f,E=e[7].FirstName+"",m,d,S,T,_=e[7].roleshort&&ke(e);return{key:u,first:null,c(){t=p("li"),l=p("a"),s=I(r),f=I(", "),m=I(E),d=j(),_&&_.c(),T=j(),this.h()},l(o){t=b(o,"LI",{});var n=g(t);l=b(n,"A",{href:!0});var v=g(l);s=L(v,r),f=L(v,", "),m=L(v,E),d=w(v),_&&_.l(v),v.forEach(c),T=w(n),n.forEach(c),this.h()},h(){D(l,"href",S="/people/"+e[7].PersonID),this.first=t},m(o,n){C(o,t,n),h(t,l),h(l,s),h(l,f),h(l,m),h(l,d),_&&_.m(l,null),h(t,T)},p(o,n){e=o,n&1&&r!==(r=e[7].LastName+"")&&H(s,r),n&1&&E!==(E=e[7].FirstName+"")&&H(m,E),e[7].roleshort?_?_.p(e,n):(_=ke(e),_.c(),_.m(l,null)):_&&(_.d(1),_=null),n&1&&S!==(S="/people/"+e[7].PersonID)&&D(l,"href",S)},d(o){o&&c(t),_&&_.d()}}}function Ee(u,e){let t,l=e[4].subject+"",r;return{key:u,first:null,c(){t=p("li"),r=I(l),this.h()},l(s){t=b(s,"LI",{});var f=g(t);r=L(f,l),f.forEach(c),this.h()},h(){this.first=t},m(s,f){C(s,t,f),h(t,r)},p(s,f){e=s,f&1&&l!==(l=e[4].subject+"")&&H(r,l)},d(s){s&&c(t)}}}function Se(u){let e;return{c(){e=I("Not available")},l(t){e=L(t,"Not available")},m(t,l){C(t,e,l)},p:$,d(t){t&&c(e)}}}function ye(u){let e,t,l;return{c(){e=p("a"),t=I("Download"),this.h()},l(r){e=b(r,"A",{href:!0});var s=g(e);t=L(s,"Download"),s.forEach(c),this.h()},h(){D(e,"href",l="/plainText/lexicon"+u[1].ID.toString().padStart(4,"0")+".txt")},m(r,s){C(r,e,s),h(e,t)},p(r,s){s&1&&l!==(l="/plainText/lexicon"+r[1].ID.toString().padStart(4,"0")+".txt")&&D(e,"href",l)},d(r){r&&c(e)}}}function De(u,e){let t,l,r=e[1].ID+"",s,f,E,m,d=e[1].title+"",S,T,_,o,n=e[1].date+"",v,M,B,F,y=[],te=new Map,Q,R,J=e[1].genre+"",X,V,O,q,A=[],le=new Map,W,U,Z,Y=G(e[1].authors);const se=i=>i[7].PersonID+i[7].roleshort;for(let i=0;i<Y.length;i+=1){let a=be(e,Y,i),k=se(a);te.set(k,y[i]=ge(k,a))}let z=G(e[1].subjects);const ae=i=>i[4].ID;for(let i=0;i<z.length;i+=1){let a=pe(e,z,i),k=ae(a);le.set(k,A[i]=Ee(k,a))}function re(i,a){return i[1].downloadable===1?ye:Se}let K=re(e),N=K(e);return{key:u,first:null,c(){t=p("tr"),l=p("td"),s=I(r),f=j(),E=p("td"),m=p("a"),S=I(d),_=j(),o=p("td"),v=I(n),M=j(),B=p("td"),F=p("ul");for(let i=0;i<y.length;i+=1)y[i].c();Q=j(),R=p("td"),X=I(J),V=j(),O=p("td"),q=p("ul");for(let i=0;i<A.length;i+=1)A[i].c();W=j(),U=p("td"),N.c(),Z=j(),this.h()},l(i){t=b(i,"TR",{});var a=g(t);l=b(a,"TD",{class:!0});var k=g(l);s=L(k,r),k.forEach(c),f=w(a),E=b(a,"TD",{class:!0});var oe=g(E);m=b(oe,"A",{href:!0});var ne=g(m);S=L(ne,d),ne.forEach(c),oe.forEach(c),_=w(a),o=b(a,"TD",{class:!0});var ie=g(o);v=L(ie,n),ie.forEach(c),M=w(a),B=b(a,"TD",{class:!0});var he=g(B);F=b(he,"UL",{});var ce=g(F);for(let P=0;P<y.length;P+=1)y[P].l(ce);ce.forEach(c),he.forEach(c),Q=w(a),R=b(a,"TD",{class:!0});var fe=g(R);X=L(fe,J),fe.forEach(c),V=w(a),O=b(a,"TD",{class:!0});var _e=g(O);q=b(_e,"UL",{});var ue=g(q);for(let P=0;P<A.length;P+=1)A[P].l(ue);ue.forEach(c),_e.forEach(c),W=w(a),U=b(a,"TD",{class:!0});var de=g(U);N.l(de),de.forEach(c),Z=w(a),a.forEach(c),this.h()},h(){D(l,"class","svelte-ll6sm5"),D(m,"href",T="/lexicons/"+e[1].ID),D(E,"class","svelte-ll6sm5"),D(o,"class","svelte-ll6sm5"),D(B,"class","svelte-ll6sm5"),D(R,"class","svelte-ll6sm5"),D(O,"class","svelte-ll6sm5"),D(U,"class","svelte-ll6sm5"),this.first=t},m(i,a){C(i,t,a),h(t,l),h(l,s),h(t,f),h(t,E),h(E,m),h(m,S),h(t,_),h(t,o),h(o,v),h(t,M),h(t,B),h(B,F);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(F,null);h(t,Q),h(t,R),h(R,X),h(t,V),h(t,O),h(O,q);for(let k=0;k<A.length;k+=1)A[k]&&A[k].m(q,null);h(t,W),h(t,U),N.m(U,null),h(t,Z)},p(i,a){e=i,a&1&&r!==(r=e[1].ID+"")&&H(s,r),a&1&&d!==(d=e[1].title+"")&&H(S,d),a&1&&T!==(T="/lexicons/"+e[1].ID)&&D(m,"href",T),a&1&&n!==(n=e[1].date+"")&&H(v,n),a&1&&(Y=G(e[1].authors),y=x(y,a,se,1,e,Y,te,F,ee,ge,null,be)),a&1&&J!==(J=e[1].genre+"")&&H(X,J),a&1&&(z=G(e[1].subjects),A=x(A,a,ae,1,e,z,le,q,ee,Ee,null,pe)),K===(K=re(e))&&N?N.p(e,a):(N.d(1),N=K(e),N&&(N.c(),N.m(U,null)))},d(i){i&&c(t);for(let a=0;a<y.length;a+=1)y[a].d();for(let a=0;a<A.length;a+=1)A[a].d();N.d()}}}function Ae(u){let e,t="All Lexicons (1475 - 1755)",l,r,s,f='<tr><th class="svelte-ll6sm5">ID</th> <th class="svelte-ll6sm5">TITLE</th> <th class="svelte-ll6sm5">DATE</th> <th class="svelte-ll6sm5">AUTHORS</th> <th class="svelte-ll6sm5">GENRE</th> <th class="svelte-ll6sm5">SUBJECTS</th> <th class="svelte-ll6sm5">FULL TEXT</th></tr>',E,m,d=[],S=new Map,T=G(u[0].lexicons);const _=o=>o[1].ID;for(let o=0;o<T.length;o+=1){let n=me(u,T,o),v=_(n);S.set(v,d[o]=De(v,n))}return{c(){e=p("h1"),e.textContent=t,l=j(),r=p("table"),s=p("thead"),s.innerHTML=f,E=j(),m=p("tbody");for(let o=0;o<d.length;o+=1)d[o].c();this.h()},l(o){e=b(o,"H1",{"data-svelte-h":!0}),ve(e)!=="svelte-1jahoh3"&&(e.textContent=t),l=w(o),r=b(o,"TABLE",{class:!0});var n=g(r);s=b(n,"THEAD",{"data-svelte-h":!0}),ve(s)!=="svelte-1kt6hn"&&(s.innerHTML=f),E=w(n),m=b(n,"TBODY",{});var v=g(m);for(let M=0;M<d.length;M+=1)d[M].l(v);v.forEach(c),n.forEach(c),this.h()},h(){D(r,"class","display table table-striped table-bordered cell-border svelte-ll6sm5")},m(o,n){C(o,e,n),C(o,l,n),C(o,r,n),h(r,s),h(r,E),h(r,m);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(m,null)},p(o,[n]){n&1&&(T=G(o[0].lexicons),d=x(d,n,_,1,o,T,S,m,ee,De,null,me))},i:$,o:$,d(o){o&&(c(e),c(l),c(r));for(let n=0;n<d.length;n+=1)d[n].d()}}}function Ne(u,e,t){let{data:l}=e;return u.$$set=r=>{"data"in r&&t(0,l=r.data)},[l]}class He extends Ie{constructor(e){super(),Le(this,e,Ne,Ae,Te,{data:0})}}export{He as component};
